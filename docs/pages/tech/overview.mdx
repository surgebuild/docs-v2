---
title: Technical Overview
description: Understanding Surge's Bitcoin custody, execution environment, and liquidity flows
---
import ZoomImage from "../../components/ZoomImage";

# ðŸ”§ Technical Overview

Surge is a Bitcoin native lending platform that's transparent, programmable, and designed to serve grassroot Bitcoiners. BTC is always locked in Taproot outputs with [MAST](https://bitcoinops.org/en/topics/mast/) based spend conditions, while execution environments mirror vault conditions and coordinate stablecoin liquidity across chains.

| Domain | Role |
|----------------------|----------------------------------------------------------------------|
| **Bitcoin Custody** | BTC secured under **Taproot + MAST conditions** through programmable dVaults. Each vault defines repayment, liquidation, and escape paths enforced by user + signer logic |
| **Execution Program** | A hybrid **off-chain + on-chain coordination system** that mirrors vault state, enforces collateral ratios, manages signer epochs, and triggers liquidations or repayments. Deployed on EVM-compatible environments. |
| **Stability Pool** | A canonical Stability Pool absorbs undercollateralized debt through partial (micro) liquidations and redistributes BTC proceeds or stablecoin yield to depositors. |
| **Cross-Chain Liquidity** | Routes stablecoin supply and repayment flows across chains via **pluggable adapters** starting with USDC (CCTPv2) and USDT, extensible to other issuers. |

<ZoomImage
  src="/assets/arch_overview.png"
  alt="Architecture Overview"
  width="100%"
  className="mx-auto"
/>

## Bitcoin Custody - dVaults

At the core of Surge are **dVaults**: Taproot outputs encoded with multiple spend paths using **MAST (Merklized Alternative Script Trees)**. Only the executed branch is revealed, preserving privacy.

### Spend Conditions
- **Repayment** - borrower + signer quorum co-sign repayment to unlock BTC.
- **Liquidation** - signer quorum executes liquidation if collateral ratio < threshold.
- **Unilateral Exit** - borrower can reclaim BTC after `OP_CHECKLOCKTIMEVERIFY` expiry.

### Security Properties
- **Bitcoin Native** - BTC Collateral is always locked in Taproot outputs. Collateral never bridges or wraps.
- **Non Custodial** - No single signer or coordinator can unilaterally move or control funds.
- **Threshold Signatures** - Uses Lin22 Schnorr Signatures (via [cb-mpc](https://github.com/coinbase/cb-mpc)) for signing, providing collusion resistance, abort recovery, and auditability.
- **Oracle Driven** - BTC/USD feed governs collateral ratios and liquidation triggers.

## Execution State

Execution state **does not custody BTC** - it mirrors vault conditions on-chain and enforces protocol logic derived from Bitcoin transactions.

- **Event Mirroring** - deposits, debt issuance, repayments, and liquidations map 1:1 to Bitcoin spends.
- **Signer Epochs** - track active signers set, validate MPC signatures, and coordinate epoch rotation.
- **Collateral Ratios** - continuously monitor vault health via oracles. Liquidation events reconcile against Bitcoin.
- **Stability Pool** - absorbs undercollateralized debt and distributes received discounted BTC to depositors.
- **PSBT Coordination** - during micro lot liquidations, the Execution Program constructs Partially Signed Bitcoin Transactions (PSBTs) representing each tranche of BTC collateral to be sold.  

Signers co-sign these PSBTs under the Lin22 aggregate key once the Execution State emits a valid liquidation event, ensuring deterministic, auditable Bitcoin spends.

Execution runs on existing EVM-compatible chains with deterministic program for consistent state replication.

## Cross-Chain Liquidity

Stablecoin liquidity moves freely across ecosystems while BTC remains locked on Bitcoin:

- **Canonical Events** - standardized events (`AttestedDeposit`, `DebtIssued`, `DebtRepaid`, `LiquidationTriggered`) serve as verifiable coordination signals across chains.
- **Deterministic Reconciliation** - ensures stablecoin supply always corresponds to BTC collateral locked in dVaults.
- **Adapter Based Routing** - liquidity is routed trustlessly via Ethereum, Base, Arbitrum and more.


## End to End Model
- BTC is the **source of truth**, secured in Taproot outputs.
- Execution chains as **state mirrors**, environments maintain synchronized state of coordinating signer rules and debt balances.
- Users retain **sovereignty** through cooperative signer paths or unilateral exits guarantee recoverability.

This architecture enables **sovereign Bitcoin capital markets** - BTC secured by Taproot outputs, with programmable stablecoin liquidity and settlement across multiple chains.