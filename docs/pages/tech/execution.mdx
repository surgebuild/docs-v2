---
title: Execution State Machine
description: EVM compatible execution state.
---

# ⚙️ Execution State Machine
The **Execution State** acts as Surge’s universal ledger for Bitcoin backed liabilities. It connects Bitcoin vaults, signer rules, and stablecoin issuance into a deterministic state machine, ensuring that BTC collateral can only move when programmatic conditions are satisfied.

## Universal Ledger for BTC-Backed Liabilities
The State maintains the **single source of truth** for:
- dVault collateral ratios.
- Active liabilities (stablecoin denominated debt).
- Signer sets and epoch rotations.

It **prevents rehypothecation** by ensuring every Bitcoin UTXO is represented exactly once in system state, binding liabilities directly to on-chain BTC collateral.

## Bitcoin Aware State
The Execution State is deeply coupled to Bitcoin:
- **Oracle Feeds**: Medianized BTC/USD prices from trusted providers update collateral ratios.
- **Bitcoin Attestations**: Proof-of-inclusion for UTXOs and Taproot spends are submitted to validators, ensuring the ledger mirrors real Bitcoin state.

This guarantees that liabilities in Surge are always tied to **native Bitcoin collateral**, never synthetic abstractions.

## State Commitments and Root Binding
Every block finalizes a **state root** that encodes:
- Active vault positions and CR.
- Signer set and epoch key.
- Stability Pool balances.
- Cross-chain stablecoin flows.

BTC spends from a dVault are only valid if the signer set co-signs under the **aggregate Lin22 Schnorr key** bound to this state root. This creates a cryptographic anchor: collateral cannot move unless the Execution State authorizes it.

## Oracle Integration
The Execution State depends on a Native Oracle System to monitor BTC/USD prices and enforce collateralization rules.  
- Oracle updates are finalized inside consensus, ensuring deterministic CR enforcement.  
- Liquidation events are emitted when CR < MinCR, binding signer permissions to liquidation spends.  

See the [Oracle System](/tech/oracles) for more details.

## Signer Enforcement
Signer participation is tightly controlled:
- **Lin22 Schnorr Signing**: Coinbase cb-mpc coordinates threshold Schnorr rounds for Taproot keys.
- **Contract-Gated Authorization**: Signers may only sign if the Execution State has emitted a valid event.
- **No Rogue Signing**: Signers do not decide when BTC can move - the ledger enforces it.

This guarantees **programmatic enforcement of BTC custody**, not human discretion.