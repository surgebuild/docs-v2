---
title: Execution Layer
description: EVM compatible execution with reth + CometBFT, state-root–bound BTC spends
---

# ⚙️ Execution Layer


### Universal Ledger for BTC-Backed Liabilities
The execution layer is the **single ledger** for:
- dVault collateral ratios.
- Active liabilities (stablecoin-denominated).
- Signer sets and epochs.


It prevents rehypothecation by ensuring every BTC UTXO is accounted for exactly once in Surge.


### Implementation Details
- **Execution Engine**: `reth` provides an Ethereum-compatible state machine.
- **Consensus**: `CometBFT` ensures deterministic ordering and finality of vault state transitions.
- **State Objects**:
- `VaultState { collateral, debt, CR, signerSet }`
- `StabilityPoolState { deposits, liquidationEvents }`
- `CrossChainState { CCTP_transfers, attestations }`


### Bitcoin-Aware State
The execution layer is tightly coupled to Bitcoin:
- **Oracle Feeds**: Medianized BTC/USD prices from trusted providers.
- **Bitcoin Attestations**: Proof-of-inclusion (UTXOs, Taproot spends) submitted by attestators.


These components guarantee that the execution environment reflects **real Bitcoin collateral**, not abstractions.


### Signer Conditions
Contracts encode rules for MPC signers:
- **Repayment Path**: Only executable when debt = 0.
- **Liquidation Path**: Triggered when CR < threshold.
- **Migration Path**: Valid only during epoch transitions.


This guarantees **programmatic enforcement of BTC custody**.